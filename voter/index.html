<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Rdio Station Voter</title>

    <link rel="stylesheet" type="text/css" href="style/main.css" />

    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.rc.1/handlebars.min.js"></script>

    <script type="text/javascript">
      var Keen=Keen||{configure:function(e){this._cf=e},addEvent:function(e,t,n,i){this._eq=this._eq||[],this._eq.push([e,t,n,i])},setGlobalProperties:function(e){this._gp=e},onChartsReady:function(e){this._ocrq=this._ocrq||[],this._ocrq.push(e)}};(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://":"http://")+"dc8na2hxrj29i.cloudfront.net/code/keen-2.1.0-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();

      // Configure the Keen object with your Project ID and (optional) access keys.
      Keen.configure({
        projectId: "515a77fc2975167ed5000006",
        writeKey: "333d505ee871d7af6dbb00c05cbbfc7953d13dfd006f49a753d0c71f35a43437767c3710ad84b73e2fba8b02e1a6331ec239760bf5d9ed2bfe700a630344be013aa27b676f6c879963a12fde9529496746c9717edf5030fbecad13812219eb19d368355c33afa8d35a2234c97e10e261"
      });
    </script>


    <script src="http://rdio.com/api/api.js?helper=helper.html&client_id=UJ4_bGineCYJH01LDCov_Q"></script>
    <!--
    <script src="http://rdio.localhost:8000/api/api.js?helper=helper.html&client_id=UJ4_bGineCYJH01LDCov_Q"></script>
    -->
    <script src="js/voter.js" type="text/javascript"></script>
  </head>

  <script id="userIdentityTemplate" type="text/x-handlebars-template">
    <div id="avatar">
      <img src="{{avatarUrl}}" width="50" height="50" />
    </div>
    <div id="userInfo">Logged in as:
      <span class="userId">{{userName}}</span>
    </div>
  </script>

  <body>

    <header>
      <h1>Rdio Station voter</h1>
    </header>

    <div class="loading">
      Rdio is loading...
    </div>

    <div id="you">
    </div>

    <div id="player-info" class="hidden">
      <div id="playstate">Unknown</div>
      <div id="current-track">
        "<span class="track-name"></span>" - 
        <span class="artist"></span> 
        (<span class="album"></span>)
        <br />
        <span class="elapsed-time"></span>
      </div>
    </div>

    <div id="controls" class="hidden">
      <div id="control-notes"></div>
      <button id="killdoze">Skip</button>
      <button id="downvote">DOWN</button>
      <button id="upboat">UP</button>
      <div id="vote-results"></div>
    </div>

    <div id="station" class="hidden">
      Station: <span class="name"></span>
      <div class="adventurousness">
        Familiar
	    <input type="radio" name="adventurousness" value="1"></input>
        <input type="radio" name="adventurousness" value="2"></input>
        <input type="radio" name="adventurousness" value="3"></input>
        <input type="radio" name="adventurousness" value="4"></input>
        <input type="radio" name="adventurousness" value="5"></input>
        Adventurous
      </div>
      <div class="pivot-section">
        <button id="pivot" name="pivot">Pivot!</button>
        <label for="pivot">Pivot your listening experience.  Start listening to a new station based on this track.</label>
      </div>
    </div>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-37837687-1']);
        _gaq.push(['_trackPageview']);
        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
  </body>
</html>
